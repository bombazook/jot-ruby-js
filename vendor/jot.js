!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=12)}([function(t,e,n){n(2),n(3);e.BaseOperation=function(){},e.add_op=function(t,e,n){t.prototype.type=[e.module_name,n],"op_map"in e||(e.op_map={}),e.op_map[n]=t};var r=n(4),o=n(22),i=n(9),a=n(6),s=n(23);e.NO_OP=r.NO_OP,e.SET=r.SET,e.MATH=r.MATH,e.PATCH=o.PATCH,e.SPLICE=o.SPLICE,e.ATINDEX=o.ATINDEX,e.MAP=o.MAP,e.PUT=i.PUT,e.REM=i.REM,e.APPLY=i.APPLY,e.LIST=a.LIST,e.COPY=s.COPY,e.diff=n(25).diff,e.BaseOperation.prototype.isNoOp=function(){return this instanceof r.NO_OP},e.BaseOperation.prototype.visit=function(t){return t(this)||this},e.BaseOperation.prototype.toJSON=function(t,e){var n={};if(void 0===e)e=1,n._ver=e;else if(1!==e)throw new Error("Invalid protocol version: "+e);return n._type=this.type[0]+"."+this.type[1],this.internalToJSON(n,e),n},e.opFromJSON=function(t,e,n){if("object"!=typeof t)throw new Error("Not an operation.");if(void 0===e){if(1!==(e=t._ver))throw new Error("JOT serialized data structure is missing protocol version and one wasn't provided as an argument.")}else{if(1!==e)throw new Error("Invalid protocol version provided: "+e);if("_ver"in t)throw new Error("JOT serialized data structure should not have protocol version because it was provided as an argument.")}if(!n){function u(t){for(var e in n[t.module_name]={},t.op_map)n[t.module_name][e]=t.op_map[e]}n={},u(r),u(o),u(i),u(a),u(s)}if("string"!=typeof t._type)throw new Error("Not an operation.");var f=t._type.split(/\./g,2);if(2!=f.length)throw new Error("Not an operation.");return n[f[0]][f[1]].internalFromJSON(t,e,n)},e.BaseOperation.prototype.serialize=function(){return JSON.stringify(this)},e.deserialize=function(t){return e.opFromJSON(JSON.parse(t))},e.BaseOperation.prototype.compose=function(t,n){if(!(t instanceof e.BaseOperation))throw new Error("Argument must be an operation.");if(this instanceof r.NO_OP)return t;if(t instanceof r.NO_OP)return this;if(t instanceof r.SET)return t;if(this.atomic_compose){var o=this.atomic_compose(t);if(null!=o)return o}return n?null:new a.LIST([this,t]).simplify()},e.BaseOperation.prototype.rebase=function(t,e,n){for(var o=0;o<(null!=this.rebase_functions?this.rebase_functions.length:0);o++){if(t instanceof this.rebase_functions[o][0])if(null!=(i=this.rebase_functions[o][1].call(this,t,e))&&null!=i[0])return n&&n("rebase",this,"on",t,e?"conflictless":"","document"in e?JSON.stringify(e.document):"","=>",i[0]),i[0]}for(o=0;o<(null!=t.rebase_functions?t.rebase_functions.length:0);o++){var i;if(this instanceof t.rebase_functions[o][0])if(null!=(i=t.rebase_functions[o][1].call(t,this,e))&&null!=i[1])return n&&n("rebase",this,"on",t,e?"conflictless":"","document"in e?JSON.stringify(e.document):"","=>",i[0]),i[1]}if(this instanceof a.LIST||t instanceof a.LIST){var u=a.rebase(t,this,e,n);return n&&n("rebase",this,"on",t,"=>",u),u}if(e){if(t instanceof s.COPY&&void 0!==e.document)return t.clone_operation(this,e.document);if(this instanceof r.SET)return n&&n("rebase",this,"on",t,"=>",this),this;if(t instanceof r.SET)return n&&n("rebase",this,"on",t,"=>",new r.NO_OP),new r.NO_OP;throw new Error("Rebase failed between "+this.inspect()+" and "+t.inspect()+".")}return null},e.createRandomValue=function(t){var n=[];if(n.push(null),n.push(!1),n.push(!0),n.push(1e3*Math.floor(Math.random()-.5)),n.push(Math.random()-.5),n.push(1e3*(Math.random()-.5)),n.push(Math.random().toString(36).substring(7)),Math.random()<Math.exp(-(t||0))){for(var r=Math.floor(Math.exp(3*Math.random()))-1,o=[];o.length<r;)o.push(e.createRandomValue((t||0)+1));n.push(o)}if(Math.random()<Math.exp(-(t||0))){r=Math.floor(Math.exp(2.5*Math.random()))-1;for(var i={};Object.keys(i).length<r;)i[Math.random().toString(36).substring(7)]=e.createRandomValue((t||0)+1);n.push(i)}return n[Math.floor(Math.random()*n.length)]},e.createRandomOp=function(t,e){var n=[];return n.push(r),"string"==typeof t||Array.isArray(t)?n.push(o):"object"==typeof t&&null!==t&&n.push(i),n[Math.floor(Math.random()*n.length)].createRandomOp(t,e)},e.createRandomOpSequence=function(t,n){for(var r=[];r.length<n;){var o=e.createRandomOp(t);try{t=o.apply(t)}catch(t){continue}r.push(o)}return new a.LIST(r)},e.type_name=function(t){return"object"==typeof t?Array.isArray(t)?"array":"object":typeof t},e.cmp=function(t,n){if(t===n)return 0;if(t===i.MISSING)return-1;if(n===i.MISSING)return 1;if(e.type_name(t)!=e.type_name(n))return e.cmp(e.type_name(t),e.type_name(n));if("number"==typeof t)return t<n?-1:t>n?1:0;if("string"==typeof t)return t.localeCompare(n);if(Array.isArray(t)){var r=e.cmp(t.length,n.length);if(0!=r)return r;for(var o=0;o<t.length;o++)if(0!=(r=e.cmp(t[o],n[o])))return r;return 0}return JSON.stringify(t).localeCompare(JSON.stringify(n))}},function(t,e,n){"use strict";function r(){}function o(t,e,n,r,o){for(var i=0,a=e.length,s=0,u=0;i<a;i++){var f=e[i];if(f.removed){if(f.value=r.slice(u,u+f.count).join(""),u+=f.count,i&&e[i-1].added){var p=e[i-1];e[i-1]=e[i],e[i]=p}}else{if(!f.added&&o){var c=n.slice(s,s+f.count);c=c.map(function(t,e){var n=r[u+e];return n.length>t.length?n:t}),f.value=c.join("")}else f.value=n.slice(s,s+f.count).join("");s+=f.count,f.added||(u+=f.count)}}var l=e[a-1];return a>1&&(l.added||l.removed)&&t.equals("",l.value)&&(e[a-2].value+=l.value,e.pop()),e}e.__esModule=!0,e.default=r,r.prototype={diff:function(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.callback;"function"==typeof n&&(r=n,n={}),this.options=n;var i=this;function a(t){return r?(setTimeout(function(){r(void 0,t)},0),!0):t}t=this.castInput(t),e=this.castInput(e),t=this.removeEmpty(this.tokenize(t));var s=(e=this.removeEmpty(this.tokenize(e))).length,u=t.length,f=1,p=s+u,c=[{newPos:-1,components:[]}],l=this.extractCommon(c[0],e,t,0);if(c[0].newPos+1>=s&&l+1>=u)return a([{value:e.join(""),count:e.length}]);function h(){for(var n=-1*f;n<=f;n+=2){var r=void 0,p=c[n-1],l=c[n+1],h=(l?l.newPos:0)-n;p&&(c[n-1]=void 0);var d=p&&p.newPos+1<s,y=l&&0<=h&&h<u;if(d||y){if(!d||y&&p.newPos<l.newPos?(r={newPos:(g=l).newPos,components:g.components.slice(0)},i.pushComponent(r.components,void 0,!0)):((r=p).newPos++,i.pushComponent(r.components,!0,void 0)),h=i.extractCommon(r,e,t,n),r.newPos+1>=s&&h+1>=u)return a(o(i,r.components,e,t,i.useLongestToken));c[n]=r}else c[n]=void 0}var g;f++}if(r)!function t(){setTimeout(function(){if(f>p)return r();h()||t()},0)}();else for(;f<=p;){var d=h();if(d)return d}},pushComponent:function(t,e,n){var r=t[t.length-1];r&&r.added===e&&r.removed===n?t[t.length-1]={count:r.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,r){for(var o=e.length,i=n.length,a=t.newPos,s=a-r,u=0;a+1<o&&s+1<i&&this.equals(e[a+1],n[s+1]);)a++,s++,u++;return u&&t.components.push({count:u}),t.newPos=a,s},equals:function(t,e){return t===e},removeEmpty:function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},castInput:function(t){return t},tokenize:function(t){return t.split("")}}},function(t,e,n){(function(t){var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(s(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(t).replace(o,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}}),u=r[n];n<i;u=r[++n])y(u)||!O(u)?a+=" "+u:a+=" "+s(u);return a},e.deprecate=function(n,r){if(void 0!==t&&!0===t.noDeprecation)return n;if(void 0===t)return function(){return e.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(t,n){var r={seen:[],stylize:f};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),d(n)?r.showHidden=n:n&&e._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),p(r,t,r.depth)}function u(t,e){var n=s.styles[e];return n?"["+s.colors[n][0]+"m"+t+"["+s.colors[n][1]+"m":t}function f(t,e){return t}function p(t,n,r){if(t.customInspect&&n&&_(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return m(o)||(o=p(t,o,r)),o}var i=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(g(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),s=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),P(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(n);if(0===a.length){if(_(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(w(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(b(n))return t.stylize(Date.prototype.toString.call(n),"date");if(P(n))return c(n)}var f,O="",T=!1,A=["{","}"];(h(n)&&(T=!0,A=["[","]"]),_(n))&&(O=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(O=" "+RegExp.prototype.toString.call(n)),b(n)&&(O=" "+Date.prototype.toUTCString.call(n)),P(n)&&(O=" "+c(n)),0!==a.length||T&&0!=n.length?r<0?w(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),f=T?function(t,e,n,r,o){for(var i=[],a=0,s=e.length;a<s;++a)M(e,String(a))?i.push(l(t,e,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(l(t,e,n,r,o,!0))}),i}(t,n,r,s,a):a.map(function(e){return l(t,n,r,s,e,T)}),t.seen.pop(),function(t,e,n){if(t.reduce(function(t,e){return 0,e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(f,O,A)):A[0]+O+A[1]}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,n,r,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),M(r,o)||(a="["+o+"]"),s||(t.seen.indexOf(u.value)<0?(s=y(n)?p(t,u.value,null):p(t,u.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n")):s=t.stylize("[Circular]","special")),v(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function g(t){return"number"==typeof t}function m(t){return"string"==typeof t}function v(t){return void 0===t}function w(t){return O(t)&&"[object RegExp]"===T(t)}function O(t){return"object"==typeof t&&null!==t}function b(t){return O(t)&&"[object Date]"===T(t)}function P(t){return O(t)&&("[object Error]"===T(t)||t instanceof Error)}function _(t){return"function"==typeof t}function T(t){return Object.prototype.toString.call(t)}function A(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(n){if(v(i)&&(i=t.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=t.pid;a[n]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",n,r,t)}}else a[n]=function(){};return a[n]},e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=g,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=w,e.isObject=O,e.isDate=b,e.isError=P,e.isFunction=_,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(15);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){var t,n;console.log("%s - %s",(t=new Date,n=[A(t.getHours()),A(t.getMinutes()),A(t.getSeconds())].join(":"),[t.getDate(),S[t.getMonth()],n].join(" ")),e.format.apply(e,arguments))},e.inherits=n(16),e._extend=function(t,e){if(!e||!O(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var E="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(E&&t[E]){var e;if("function"!=typeof(e=t[E]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,E,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise(function(t,r){e=t,n=r}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(t,r){t?n(t):e(r)});try{t.apply(this,o)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),E&&Object.defineProperty(e,E,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=E,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,n).then(function(e){t.nextTick(a,null,e)},function(e){t.nextTick(k,e,a)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),Object.defineProperties(n,r(e)),n}}).call(this,n(14))},function(t,e,n){"use strict";
/*!
 * shallow-clone <https://github.com/jonschlinkert/shallow-clone>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(8),o=n(17),i=n(19);function a(t){var e=i(t);return a.hasOwnProperty(e)?a[e](t):t}a.array=function(t){return t.slice()},a.date=function(t){return new Date(+t)},a.object=function(t){return r(t)?o({},t):t},a.regexp=function(t){var e="";return e+=t.multiline?"m":"",e+=t.global?"g":"",e+=t.ignorecase?"i":"",new RegExp(t.source,e)},t.exports=a},function(t,e,n){var r=n(2),o=n(5),i=n(0),a=n(9).MISSING;e.module_name="values",e.NO_OP=function(){Object.freeze(this)},e.NO_OP.prototype=Object.create(i.BaseOperation.prototype),i.add_op(e.NO_OP,e,"NO_OP"),e.SET=function(t){this.value=t,Object.freeze(this)},e.SET.prototype=Object.create(i.BaseOperation.prototype),i.add_op(e.SET,e,"SET"),e.MATH=function(t,e){if(this.operator=t,this.operand=e,("add"==this.operator||"mult"==this.operator)&&"number"!=typeof this.operand)throw new Error("MATH[add] and MATH[mult]'s operand must be a number.");if(("and"==this.operator||"or"==this.operator||"xor"==this.operator)&&!Number.isInteger(this.operand)&&"boolean"!=typeof this.operand)throw new Error("MATH[and] and MATH[or] and MATH[xor]'s operand must be a boolean or integer.");if("not"==this.operator&&null!==this.operand)throw new Error("MATH[not]'s operand must be null --- it is not used.");if("rot"==this.operator){if(!Array.isArray(this.operand)||2!=this.operand.length||!Number.isInteger(this.operand[0])||!Number.isInteger(this.operand[1]))throw new Error("MATH[rot] operand must be an array with two integer elements.");if(this.operand[1]<=1)throw new Error("MATH[rot]'s second operand, the modulus, must be greater than one.");if(this.operand[0]>=Math.abs(this.operand[1]))throw new Error("MATH[rot]'s first operand, the increment, must be less than its second operand, the modulus.")}Object.freeze(this)},e.MATH.prototype=Object.create(i.BaseOperation.prototype),i.add_op(e.MATH,e,"MATH"),e.NO_OP.prototype.inspect=function(t){return"<NO_OP>"},e.NO_OP.prototype.internalToJSON=function(t,e){},e.NO_OP.internalFromJSON=function(t,n,r){return new e.NO_OP},e.NO_OP.prototype.apply=function(t){return t},e.NO_OP.prototype.simplify=function(){return this},e.NO_OP.prototype.drilldown=function(t){return new values.NO_OP},e.NO_OP.prototype.inverse=function(t){return this},e.NO_OP.prototype.atomic_compose=function(t){return t},e.NO_OP.prototype.rebase_functions=[[i.BaseOperation,function(t,e){return[this,t]}]],e.NO_OP.prototype.get_length_change=function(t){return 0},e.NO_OP.prototype.decompose=function(t,e){return[this,this]},e.SET.prototype.inspect=function(t){return r.format("<SET %s>",(e=this.value)===a?"~":r.format("%j",e));var e},e.SET.prototype.internalToJSON=function(t,e){this.value===a?t.value_missing=!0:t.value=this.value},e.SET.internalFromJSON=function(t,n,r){return t.value_missing?new e.SET(a):new e.SET(t.value)},e.SET.prototype.apply=function(t){return this.value},e.SET.prototype.simplify=function(){return this},e.SET.prototype.drilldown=function(t){return"object"==typeof this.value&&Array.isArray(this.value)&&Number.isInteger(t)&&t<this.value.length?new e.SET(this.value[t]):"object"==typeof this.value&&!Array.isArray(this.value)&&null!==this.value&&"string"==typeof t&&t in this.value?new e.SET(this.value[t]):new e.SET(a)},e.SET.prototype.inverse=function(t){return new e.SET(t)},e.SET.prototype.atomic_compose=function(t){return new e.SET(t.apply(this.value)).simplify()},e.SET.prototype.rebase_functions=[[e.SET,function(t,n){return o(this.value,t.value,{strict:!0})?[new e.NO_OP,new e.NO_OP]:n&&i.cmp(this.value,t.value)<0?[new e.NO_OP,new e.SET(t.value)]:null}],[e.MATH,function(t,n){return[this,new e.NO_OP]}]],e.SET.prototype.get_length_change=function(t){if("string"==typeof this.value||Array.isArray(this.value))return this.value.length-t;throw new Error("not applicable: new value is of type "+typeof this.value)},e.SET.prototype.decompose=function(t,n){if("string"!=typeof this.value&&!Array.isArray(this.value))throw new Error("invalid value type for call");return t?[new e.SET(this.value.slice(0,n)),new e.SET(this.value.slice(n))]:[new e.SET(this.value.slice(0,0)),this]},e.MATH.prototype.inspect=function(t){return r.format("<MATH %s:%s>",this.operator,"number"!=typeof this.operand||"and"!=this.operator&&"or"!=this.operator&&"xor"!=this.operator?r.format("%j",this.operand):"0x"+this.operand.toString(16))},e.MATH.prototype.internalToJSON=function(t,e){t.operator=this.operator,t.operand=this.operand},e.MATH.internalFromJSON=function(t,n,r){return new e.MATH(t.operator,t.operand)},e.MATH.prototype.apply=function(t){if("number"==typeof t){if("add"==this.operator)return t+this.operand;if("mult"==this.operator)return t*this.operand;if(Number.isInteger(t)){if("rot"==this.operator)return(t+this.operand[0])%this.operand[1];if("and"==this.operator)return t&this.operand;if("or"==this.operator)return t|this.operand;if("xor"==this.operator)return t^this.operand;if("not"==this.operator)return~t}throw new Error("MATH operator "+this.operator+" cannot apply to "+t+".")}if("boolean"==typeof t){if("and"==this.operator)return t&&this.operand;if("or"==this.operator)return t||this.operand;if("xor"==this.operator)return!!(t^this.operand);if("not"==this.operator)return!t;throw new Error("MATH operator "+this.operator+" does not apply to boolean values.")}throw new Error("MATH operations only apply to number and boolean values, not "+i.type_name(t)+".")},e.MATH.prototype.simplify=function(){return"add"==this.operator&&0==this.operand?new e.NO_OP:"rot"==this.operator&&0==this.operand[0]?new e.NO_OP:"mult"==this.operator&&1==this.operand?new e.NO_OP:"and"==this.operator&&0===this.operand?new e.SET(0):"and"==this.operator&&!1===this.operand?new e.SET(!1):"or"==this.operator&&0===this.operand?new e.NO_OP:"or"==this.operator&&!1===this.operand?new e.NO_OP:"xor"==this.operator&&0==this.operand?new e.NO_OP:this},e.MATH.prototype.drilldown=function(t){return new e.NO_OP},e.MATH.prototype.inverse=function(t){return"add"==this.operator?new e.MATH("add",-this.operand):"rot"==this.operator?new e.MATH("rot",[-this.operand[0],this.operand[1]]):"mult"==this.operator?new e.MATH("mult",1/this.operand):"and"==this.operator?new e.MATH("or",t&~this.operand):"or"==this.operator?new e.MATH("xor",~t&this.operand):"xor"==this.operator?this:"not"==this.operator?this:void 0},e.MATH.prototype.atomic_compose=function(t){if(t instanceof e.MATH){if(this.operator==t.operator&&"add"==this.operator)return new e.MATH("add",this.operand+t.operand).simplify();if(this.operator==t.operator&&"rot"==this.operator&&this.operand[1]==t.operand[1])return new e.MATH("rot",[this.operand[0]+t.operand[0],this.operand[1]]).simplify();if(this.operator==t.operator&&"mult"==this.operator)return new e.MATH("mult",this.operand*t.operand).simplify();if(this.operator==t.operator&&"and"==this.operator&&typeof this.operand==typeof t.operand&&"number"==typeof this.operand)return new e.MATH("and",this.operand&t.operand).simplify();if(this.operator==t.operator&&"and"==this.operator&&typeof this.operand==typeof t.operand&&"boolean"==typeof this.operand)return new e.MATH("and",this.operand&&t.operand).simplify();if(this.operator==t.operator&&"or"==this.operator&&typeof this.operand==typeof t.operand&&"number"==typeof this.operand)return new e.MATH("or",this.operand|t.operand).simplify();if(this.operator==t.operator&&"or"==this.operator&&typeof this.operand==typeof t.operand&&"boolean"==typeof this.operand)return new e.MATH("or",this.operand||t.operand).simplify();if(this.operator==t.operator&&"xor"==this.operator&&typeof this.operand==typeof t.operand&&"number"==typeof this.operand)return new e.MATH("xor",this.operand^t.operand).simplify();if(this.operator==t.operator&&"xor"==this.operator&&typeof this.operand==typeof t.operand&&"boolean"==typeof this.operand)return new e.MATH("xor",!!(this.operand^t.operand)).simplify();if(this.operator==t.operator&&"not"==this.operator)return new e.NO_OP;if("and"==this.operator&&"or"==t.operator&&this.operand===t.operand)return new e.SET(this.operand);if("or"==this.operator&&"xor"==t.operator&&this.operand===t.operand&&"number"==typeof this.operand)return new e.MATH("and",~this.operand);if("or"==this.operator&&"xor"==t.operator&&this.operand===t.operand&&"boolean"==typeof this.operand)return new e.MATH("and",!this.operand)}return null},e.MATH.prototype.rebase_functions=[[e.MATH,function(t,n){return this.operator!=t.operator||"rot"==this.operator&&this.operand[1]!=t.operand[1]?n&&"document"in n&&i.cmp([this.operator,this.operand],[t.operator,t.operand])<0?[new e.SET(this.compose(t).apply(n.document)),t]:null:[this,t]}]],e.createRandomOp=function(t,n){var r=[];if(r.push(function(){return new e.NO_OP}),r.push(function(){return new e.SET(t)}),"string-elem"!=n&&"string"!=n&&r.push(function(){return new e.SET(i.createRandomValue())}),"object"==n&&r.push(function(){return new e.SET(a)}),"boolean"==typeof t&&r.push(function(){return new e.SET(!t)}),"number"==typeof t&&(Number.isInteger(t)?r.push(function(){return new e.SET(t+Math.floor(100*(Math.random()+.5)))}):r.push(function(){return new e.SET(t*(Math.random()+.5))})),("string"==typeof t||Array.isArray(t))&&"string-elem"!=n){if(t.length>0&&r.push(function(){return new e.SET(t.slice(0,0))}),t.length>=1&&(r.push(function(){return new e.SET(t.slice(Math.floor(Math.random()*(t.length-1)),t.length))}),r.push(function(){return new e.SET(t.slice(0,Math.floor(Math.random()*(t.length-1))))})),t.length>=2){var o=Math.floor(Math.random()*t.length-1),s=Math.floor(Math.random()*(t.length-o));r.push(function(){return new e.SET(t.slice(o,o+s))})}if(t.length>0){function u(t,e){return t instanceof String?t+e:t.concat(e)}r.push(function(){return new e.SET(u(t.slice(0,1+Math.floor(Math.random()*(t.length-1))),t))}),r.push(function(){return new e.SET(u(t,t.slice(0,1+Math.floor(Math.random()*(t.length-1)))))}),r.push(function(){return new e.SET((n=t.slice(0,1+Math.floor(Math.random()*(t.length-1))),r=t,o=t.slice(0,1+Math.floor(Math.random()*(t.length-1))),n instanceof String?n+r+o:n.concat(r).concat(o)));var n,r,o})}else"string"==typeof t?r.push(function(){return new e.SET((Math.random()+"").slice(2))}):Array.isArray(t)&&r.push(function(){return new e.SET([null,null,null].map(function(){return Math.random()}))})}if("string"==typeof t&&(t!=t.split("").reverse().join("")&&r.push(function(){return new e.SET(t.split("").reverse().join(""))}),t.length>0)){for(var f="",p=0;p<t.length;p++)f+=(Math.random()+"").slice(2,3);r.push(function(){return new e.SET(f)})}return"number"==typeof t&&(Number.isInteger(t)?(r.push(function(){return new e.MATH("add",Math.floor(100*(Math.random()-.25)))}),r.push(function(){return new e.MATH("mult",Math.floor(Math.exp(Math.random()+.5)))}),t>1&&r.push(function(){return new e.MATH("rot",[1,Math.min(13,t)])}),r.push(function(){return new e.MATH("and",241)}),r.push(function(){return new e.MATH("or",241)}),r.push(function(){return new e.MATH("xor",241)}),r.push(function(){return new e.MATH("not",null)})):(r.push(function(){return new e.MATH("add",100*(Math.random()-.25))}),r.push(function(){return new e.MATH("mult",Math.exp(Math.random()+.5))}))),"boolean"==typeof t&&(r.push(function(){return new e.MATH("and",!0)}),r.push(function(){return new e.MATH("and",!1)}),r.push(function(){return new e.MATH("or",!0)}),r.push(function(){return new e.MATH("or",!1)}),r.push(function(){return new e.MATH("xor",!0)}),r.push(function(){return new e.MATH("xor",!1)}),r.push(function(){return new e.MATH("not",null)})),r[Math.floor(Math.random()*r.length)]()}},function(t,e,n){var r=Array.prototype.slice,o=n(20),i=n(21),a=t.exports=function(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?n.strict?t===e:t==e:function(t,e,n){var f,p;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=r.call(t),e=r.call(e),a(t,e,n));if(u(t)){if(!u(e))return!1;if(t.length!==e.length)return!1;for(f=0;f<t.length;f++)if(t[f]!==e[f])return!1;return!0}try{var c=o(t),l=o(e)}catch(t){return!1}if(c.length!=l.length)return!1;for(c.sort(),l.sort(),f=c.length-1;f>=0;f--)if(c[f]!=l[f])return!1;for(f=c.length-1;f>=0;f--)if(p=c[f],!a(t[p],e[p],n))return!1;return typeof t==typeof e}(t,e,n))};function s(t){return null==t}function u(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}},function(t,e,n){var r=n(2),o=n(3),i=n(0),a=n(4);e.module_name="lists",e.LIST=function(t){if(!Array.isArray(t))throw new Error("Argument must be an array.");t.forEach(function(t){if(!(t instanceof i.BaseOperation))throw new Error("Argument must be an array containing operations (found "+t+").")}),this.ops=t,Object.freeze(this)},e.LIST.prototype=Object.create(i.BaseOperation.prototype),i.add_op(e.LIST,e,"LIST"),e.LIST.prototype.inspect=function(t){return r.format("<LIST [%s]>",this.ops.map(function(e){return e.inspect(t-1)}).join(", "))},e.LIST.prototype.visit=function(t){var n=new e.LIST(this.ops.map(function(e){return e.visit(t)}));return t(n)||n},e.LIST.prototype.internalToJSON=function(t,e){t.ops=this.ops.map(function(t){return t.toJSON(void 0,e)})},e.LIST.internalFromJSON=function(t,n,r){var o=t.ops.map(function(t){return i.opFromJSON(t,n,r)});return new e.LIST(o)},e.LIST.prototype.apply=function(t){for(var e=0;e<this.ops.length;e++)t=this.ops[e].apply(t);return t},e.LIST.prototype.simplify=function(t){for(var n=[],r=0;r<this.ops.length;r++){var o=this.ops[r];for(o=o.simplify();n.length>0&&!o.isNoOp();){var i=n[n.length-1].compose(o,!0);if(!i)break;n.pop(),o=i}o.isNoOp()||n.push(o)}return 0==n.length?new a.NO_OP:1==n.length?n[0]:new e.LIST(n)},e.LIST.prototype.inverse=function(t){var n=[];return this.ops.forEach(function(e){n.push(e.inverse(t)),t=e.apply(t)}),n.reverse(),new e.LIST(n)},e.LIST.prototype.atomic_compose=function(t){if(0==this.ops.length)return t;if(t instanceof e.LIST)return 0==t.ops.length?this:new e.LIST(this.ops.concat(t.ops));var n=this.ops.slice();return n.push(t),new e.LIST(n)},e.rebase=function(t,n,r,s){t=t.simplify(),n=n.simplify();var u=function t(e,n,r,s){if(0==n.length||0==e.length)return n;if(1==n.length&&1==e.length){var u=n[0].rebase(e[0],r,s);return u?u instanceof i.NO_OP?[]:u instanceof i.LIST?u.ops:[u]:null}if(s){s("rebasing",n,"on",e,r?"conflictless":"","document"in r?JSON.stringify(r.document):"","...");var f=s;s=function(){var t=[">"].concat(Array.from(arguments));f.apply(null,t)}}if(1==e.length){if(e[0]instanceof a.NO_OP)return n;var p=n.slice(0,1),c=n.slice(1),l=t(e,p,r,s);if(null==l)return null;var h=t(p,e,r,s);if(null==h)return null;var d=null;r&&"document"in(d=o(r))&&(d.document=p[0].apply(d.document));var y=t(h,c,d,s);return null==y?null:l.concat(y)}r=r?o(r):null;for(var g=0;g<e.length;g++){if(null==(n=t([e[g]],n,r,s)))return null;r&&"document"in r&&(r.document=e[g].apply(r.document))}return n}(t=t instanceof e.LIST?t.ops:[t],n=n instanceof e.LIST?n.ops:[n],r,s);return null==u?null:0==u.length?new a.NO_OP:1==u.length?u[0]:new e.LIST(u).simplify()},e.LIST.prototype.drilldown=function(t){return new e.LIST(this.ops.map(function(e){return e.drilldown(t)})).simplify()},e.createRandomOp=function(t,n){for(var r=[];0==r.length||Math.random()<.75;)r.push(i.createRandomOp(t,n)),t=r[r.length-1].apply(t);return new e.LIST(r)}},function(t,e,n){"use strict";e.__esModule=!0,e.lineDiff=void 0,e.diffLines=function(t,e,n){return s.diff(t,e,n)},e.diffTrimmedLines=function(t,e,n){var r=(0,a.generateOptions)(n,{ignoreWhitespace:!0});return s.diff(t,e,r)};var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r},a=n(10);var s=e.lineDiff=new i.default;s.tokenize=function(t){var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),e.push(o))}return e}},function(t,e,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */t.exports=function(t){return null!=t&&("object"==typeof t||"function"==typeof t)}},function(t,e,n){var r=n(2),o=(n(5),n(3)),i=n(0),a=n(4);n(6).LIST;e.module_name="objects",e.APPLY=function(){if(1==arguments.length&&"object"==typeof arguments[0])this.ops=arguments[0];else{if(2!=arguments.length||"string"!=typeof arguments[0])throw new Error("invalid arguments");this.ops={},this.ops[arguments[0]]=arguments[1]}Object.freeze(this),Object.freeze(this.ops)},e.APPLY.prototype=Object.create(i.BaseOperation.prototype),i.add_op(e.APPLY,e,"APPLY"),e.MISSING=new Object,Object.freeze(e.MISSING),e.PUT=function(t,n){e.APPLY.apply(this,[t,new a.SET(n)])},e.PUT.prototype=Object.create(e.APPLY.prototype),e.REM=function(t){e.APPLY.apply(this,[t,new a.SET(e.MISSING)])},e.REM.prototype=Object.create(e.APPLY.prototype),e.APPLY.prototype.inspect=function(t){var e=[],n=this.ops;return Object.keys(n).forEach(function(o){e.push(r.format("%j:%s",o,n[o].inspect(t-1)))}),r.format("<APPLY %s>",e.join(", "))},e.APPLY.prototype.visit=function(t){var n={};for(var r in this.ops)n[r]=this.ops[r].visit(t);var o=new e.APPLY(n);return t(o)||o},e.APPLY.prototype.internalToJSON=function(t,e){for(var n in t.ops={},this.ops)t.ops[n]=this.ops[n].toJSON(void 0,e)},e.APPLY.internalFromJSON=function(t,n,r){var o={};for(var a in t.ops)o[a]=i.opFromJSON(t.ops[a],n,r);return new e.APPLY(o)},e.APPLY.prototype.apply=function(t){var n={};for(var r in t)n[r]=t[r];for(var o in this.ops){var i=this.ops[o].apply(n[o],[n,o]);i===e.MISSING?delete n[o]:n[o]=i}return n},e.APPLY.prototype.simplify=function(){var t={},n=!1;for(var r in this.ops)t[r]=this.ops[r].simplify(),t[r]instanceof a.NO_OP?delete t[r]:n=!0;return n?new e.APPLY(t):new a.NO_OP},e.APPLY.prototype.inverse=function(t){var n={};for(var r in this.ops)n[r]=this.ops[r].inverse(r in t?t[r]:e.MISSING);return new e.APPLY(n)},e.APPLY.prototype.atomic_compose=function(t){if(t instanceof e.APPLY){var n=o(this.ops);for(var r in t.ops)if(r in n){var i=n[r].compose(t.ops[r]);i instanceof a.NO_OP?delete n[r]:n[r]=i}else n[r]=t.ops[r];return new e.APPLY(n).simplify()}return null},e.APPLY.prototype.rebase_functions=[[e.APPLY,function(t,n){function r(t){if(!(n&&"document"in n))return n;var r=o(n);return t in n.document?r.document=n.document[t]:r.document=e.MISSING,r}var i={};for(var a in this.ops)if(i[a]=this.ops[a],a in t.ops&&(i[a]=i[a].rebase(t.ops[a],r(a))),null===i[a])return null;var s={};for(var a in t.ops)if(s[a]=t.ops[a],a in this.ops&&(s[a]=s[a].rebase(this.ops[a],r(a))),null===s[a])return null;return[new e.APPLY(i).simplify(),new e.APPLY(s).simplify()]}]],e.APPLY.prototype.drilldown=function(t){return"string"==typeof t&&t in this.ops?this.ops[t]:new a.NO_OP},e.createRandomOp=function(t,n){var r=[];return r.push(function(){return new e.PUT("k"+Math.floor(1e3*Math.random()),i.createRandomValue())}),Object.keys(t).forEach(function(e){r.push(function(){return i.createRandomOp(t[e],"object")})}),r[Math.floor(Math.random()*r.length)]()}},function(t,e,n){"use strict";e.__esModule=!0,e.generateOptions=function(t,e){if("function"==typeof t)e.callback=t;else if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}},function(t,e,n){"use strict";e.__esModule=!0,e.parsePatch=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.split("\n"),r=[],o=0;function i(){var t={};for(r.push(t);o<n.length;){var i=n[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(i))break;var u=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(i);u&&(t.index=u[1]),o++}for(a(t),a(t),t.hunks=[];o<n.length;){var f=n[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(f))break;if(/^@@/.test(f))t.hunks.push(s());else{if(f&&e.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(f));o++}}}function a(t){var e=/^(---|\+\+\+)\s+([\S ]*)(?:\t(.*?)\s*)?$/.exec(n[o]);if(e){var r="---"===e[1]?"old":"new";t[r+"FileName"]=e[2],t[r+"Header"]=e[3],o++}}function s(){for(var t=o,r=n[o++],i=r.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),a={oldStart:+i[1],oldLines:+i[2]||1,newStart:+i[3],newLines:+i[4]||1,lines:[]},s=0,u=0;o<n.length&&!(0===n[o].indexOf("--- ")&&o+2<n.length&&0===n[o+1].indexOf("+++ ")&&0===n[o+2].indexOf("@@"));o++){var f=n[o][0];if("+"!==f&&"-"!==f&&" "!==f&&"\\"!==f)break;a.lines.push(n[o]),"+"===f?s++:"-"===f?u++:" "===f&&(s++,u++)}if(s||1!==a.newLines||(a.newLines=0),u||1!==a.oldLines||(a.oldLines=0),e.strict){if(s!==a.newLines)throw new Error("Added line count did not match for hunk at line "+(t+1));if(u!==a.oldLines)throw new Error("Removed line count did not match for hunk at line "+(t+1))}return a}for(;o<n.length;)i();return r}},function(t,e,n){(function(t){t.jot=n(0)}).call(this,n(13))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,f=[],p=!1,c=-1;function l(){p&&u&&(p=!1,u.length?f=u.concat(f):c=-1,f.length&&h())}function h(){if(!p){var t=s(l);p=!0;for(var e=f.length;e;){for(u=f,f=[];++c<e;)u&&u[c].run();c=-1,e=f.length}u=null,p=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new d(t,e)),1!==f.length||p||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";var r=n(8),o=n(18);function i(t,e){this[e]=t}t.exports=function(t,e){if(!r(t))throw new TypeError("mixin-object expects the first argument to be an object.");for(var n=arguments.length,a=0;++a<n;){var s=arguments[a];r(s)&&o(s,i,t)}return t}},function(t,e,n){"use strict";
/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t,e,n){for(var r in t)if(!1===e.call(n,t[r],r,t))break}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){var e=typeof t;return"undefined"===e?"undefined":null===t?"null":!0===t||!1===t||t instanceof Boolean?"boolean":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?void 0!==t.constructor.name&&"Generator"===t.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(t)?"array":t instanceof RegExp?"regexp":t instanceof Date?"date":"[object RegExp]"===(e=n.call(t))?"regexp":"[object Date]"===e?"date":"[object Arguments]"===e?"arguments":"[object Error]"===e?"error":"[object Promise]"===e?"promise":function(t){return t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}(t)?"buffer":"[object Set]"===e?"set":"[object WeakSet]"===e?"weakset":"[object Map]"===e?"map":"[object WeakMap]"===e?"weakmap":"[object Symbol]"===e?"symbol":"[object Map Iterator]"===e?"mapiterator":"[object Set Iterator]"===e?"setiterator":"[object String Iterator]"===e?"stringiterator":"[object Array Iterator]"===e?"arrayiterator":"[object Int8Array]"===e?"int8array":"[object Uint8Array]"===e?"uint8array":"[object Uint8ClampedArray]"===e?"uint8clampedarray":"[object Int16Array]"===e?"int16array":"[object Uint16Array]"===e?"uint16array":"[object Int32Array]"===e?"int32array":"[object Uint32Array]"===e?"uint32array":"[object Float32Array]"===e?"float32array":"[object Float64Array]"===e?"float64array":"object"}},function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(t,e){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=n?r:o).supported=r,e.unsupported=o},function(t,e,n){var r=n(2),o=n(5),i=n(3),a=n(0),s=n(4);n(6).LIST;function u(t,e){return t instanceof String?t+e:t.concat(e)}function f(t,n,r){function o(t){return{old_index:0,old_hunks:t.hunks.slice(),dx_index:0,new_hunks:[],empty:function(){return 0==this.old_hunks.length},take:function(t,e){var n=this.old_hunks.shift();this.new_hunks.push({offset:n.offset+this.dx_index,length:n.length+(n.dlength||0),op:n.op}),this.dx_index=0,this.old_index+=n.offset+n.length,e||(t.dx_index+=n.op.get_length_change(n.length))},skip:function(){this.old_index=this.end(),this.old_hunks.shift()},start:function(){return this.old_index+this.old_hunks[0].offset},end:function(){var t=this.old_hunks[0];return this.old_index+t.offset+t.length}}}for(var s=o(t),u=o(n);!s.empty()||!u.empty();)if(u.empty())s.take(u);else if(s.empty())u.take(s);else if(s.start()!=u.start()||0!=s.old_hunks[0].length||0!=u.old_hunks[0].length)if(s.end()<=u.start())s.take(u);else if(u.end()<=s.start())u.take(s);else{var f=u.start()-s.start(),p=u.end()-s.end();if(0!=f||0!=p){if(!r)return null;if(f>0){var c=(l=s.old_hunks.shift()).op.decompose(!1,f);s.old_hunks.unshift({offset:0,length:l.length-f,op:c[1]}),s.old_hunks.unshift({offset:l.offset,length:f,op:c[0]}),s.take(u)}else if(f<0){c=(l=u.old_hunks.shift()).op.decompose(!1,-f);u.old_hunks.unshift({offset:0,length:l.length+f,op:c[1]}),u.old_hunks.unshift({offset:l.offset,length:-f,op:c[0]}),u.take(s)}else if(p<0){c=(l=s.old_hunks.shift()).op.decompose(!1,l.length+p);s.old_hunks.unshift({offset:0,length:-p,op:c[1]}),s.old_hunks.unshift({offset:l.offset,length:l.length+p,op:c[0]})}else{if(!(p>0))throw new Error("We thought this line was not reachable.");var l;c=(l=u.old_hunks.shift()).op.decompose(!1,l.length-p);u.old_hunks.unshift({offset:0,length:p,op:c[1]}),u.old_hunks.unshift({offset:l.offset,length:l.length-p,op:c[0]})}}else{var h=r?i(r):null;h&&"document"in h&&(h.document=h.document.slice(s.start(),s.end()));var d=s.old_hunks[0].op.rebase(u.old_hunks[0].op,h),y=u.old_hunks[0].op.rebase(s.old_hunks[0].op,h);if(null==d||null==y)return null;s.old_hunks[0]={offset:s.old_hunks[0].offset,length:s.old_hunks[0].length,dlength:u.old_hunks[0].op.get_length_change(u.old_hunks[0].length),op:d},u.old_hunks[0]={offset:u.old_hunks[0].offset,length:u.old_hunks[0].length,dlength:s.old_hunks[0].op.get_length_change(s.old_hunks[0].length),op:y},s.take(u,!0),u.take(s,!0)}}else{if(!r)return null;a.cmp(s.old_hunks[0].op,u.old_hunks[0].op)<0?s.take(u):u.take(s)}return[new e.PATCH(s.new_hunks).simplify(),new e.PATCH(u.new_hunks).simplify()]}e.module_name="sequences",e.PATCH=function(){if("__hmm__"!==arguments[0]){if(1!=arguments.length)throw new Error("Invaid Argument");if(this.hunks=arguments[0],!Array.isArray(this.hunks))throw new Error("Invaid Argument");this.hunks.forEach(function(t){if("number"!=typeof t.offset)throw new Error("Invalid Argument (hunk offset not a number)");if(t.offset<0)throw new Error("Invalid Argument (hunk offset is negative)");if("number"!=typeof t.length)throw new Error("Invalid Argument (hunk length is not a number)");if(t.length<0)throw new Error("Invalid Argument (hunk length is negative)");if(!(t.op instanceof a.BaseOperation))throw new Error("Invalid Argument (hunk operation is not an operation)");if("function"!=typeof t.op.get_length_change)throw new Error("Invalid Argument (hunk operation "+t.op.inspect()+" does not support get_length_change)");if("function"!=typeof t.op.decompose)throw new Error("Invalid Argument (hunk operation "+t.op.inspect()+" does not support decompose)");Object.freeze(t)}),Object.freeze(this)}},e.PATCH.prototype=Object.create(a.BaseOperation.prototype),a.add_op(e.PATCH,e,"PATCH"),e.SPLICE=function(t,n,r){e.PATCH.apply(this,[[{offset:t,length:n,op:new s.SET(r)}]])},e.SPLICE.prototype=new e.PATCH("__hmm__"),e.ATINDEX=function(){var t,n;if(1==arguments.length)n=arguments[0],t=[],Object.keys(n).forEach(function(e){t.push(parseInt(e))}),t.sort();else{if(2!=arguments.length)throw new Error("Invalid Argument");t=[arguments[0]],(n={})[arguments[0]]=arguments[1]}var r=[],o=0;t.forEach(function(t){r.push({offset:t-o,length:1,op:new e.MAP(n[t])}),o=t+1}),e.PATCH.apply(this,[r])},e.ATINDEX.prototype=new e.PATCH("__hmm__"),e.MAP=function(t){if(null==t)throw new Error("Invalid Argument");this.op=t,Object.freeze(this)},e.MAP.prototype=Object.create(a.BaseOperation.prototype),a.add_op(e.MAP,e,"MAP"),e.PATCH.prototype.inspect=function(t){return r.format("<PATCH%s>",this.hunks.map(function(n){return 1==n.length&&n.op instanceof e.MAP?r.format(" +%d %s",n.offset,n.op.op.inspect(t-1)):r.format(" +%dx%d %s",n.offset,n.length,n.op instanceof s.SET?r.format("%j",n.op.value):n.op.inspect(t-1))}).join(","))},e.PATCH.prototype.visit=function(t){var n=new e.PATCH(this.hunks.map(function(e){var n=i(e);return n.op=n.op.visit(t),n}));return t(n)||n},e.PATCH.prototype.internalToJSON=function(t,e){t.hunks=this.hunks.map(function(t){var n=i(t);return n.op=n.op.toJSON(void 0,e),n})},e.PATCH.internalFromJSON=function(t,n,r){var o=t.hunks.map(function(t){var e=i(t);return e.op=a.opFromJSON(t.op,n,r),e});return new e.PATCH(o)},e.PATCH.prototype.apply=function(t){var e=0,n=t.slice(0,0);return this.hunks.forEach(function(r){if(e+r.offset+r.length>t.length)throw new Error("offset past end of document");n=u(n,t.slice(e,e+r.offset)),e+=r.offset;var o=r.op.apply(t.slice(e,e+r.length));if("string"==typeof t&&"string"!=typeof o)throw new Error("operation yielded invalid substring");if(Array.isArray(t)&&!Array.isArray(o))throw new Error("operation yielded invalid subarray");n=u(n,o),e+=r.length}),n=u(n,t.slice(e))},e.PATCH.prototype.simplify=function(){var t=null;this.hunks.forEach(function(e){e.op instanceof s.SET&&("string"==typeof e.op.value?t="string":Array.isArray(e.op.value)&&(t="array"))});var n=[],r=0;return this.hunks.forEach(function(o){var i=o.op.simplify();if(i.isNoOp())r+=o.offset+o.length;else if(0!=o.length||0!=o.op.get_length_change(o.length))if(n.length>0&&0==o.offset&&0==r&&(n[n.length-1].op instanceof s.SET||n[n.length-1].op instanceof e.MAP&&n[n.length-1].op.op instanceof s.SET)&&(o.op instanceof s.SET||o.op instanceof e.MAP&&o.op.op instanceof s.SET)&&null!=t){function a(e){if(e.op instanceof s.SET)return e.op.value;for(var n=[],r=0;r<e.length;r++)n.push(e.op.op.value);return"string"==t&&(n=n.join("")),n}n[n.length-1]={offset:n[n.length-1].offset,length:n[n.length-1].length+o.length,op:new s.SET(u(a(n[n.length-1]),a(o)))}}else n.push({offset:o.offset+r,length:o.length,op:i}),r=0;else r+=o.offset}),0==n.length?new s.NO_OP:new e.PATCH(n)},e.PATCH.prototype.drilldown=function(t){if(!Number.isInteger(t)||t<0)return new s.NO_OP;var e=0,n=null;return this.hunks.forEach(function(r){(e+=r.offset)<=t&&t<e+r.length&&(n=r.op.drilldown(t-e)),e+=r.length}),n||new s.NO_OP},e.PATCH.prototype.inverse=function(t){var n=0;return new e.PATCH(this.hunks.map(function(e){var r={offset:e.offset,length:e.length+e.op.get_length_change(e.length),op:e.op.inverse(t.slice(n+e.offset,n+e.offset+e.length))};return n+=e.offset+e.length,r}))},e.PATCH.prototype.atomic_compose=function(t){return t instanceof e.PATCH?function(t,n){var r=[],o=0;function i(t,e){return{index:0,hunks:t.hunks.slice(),empty:function(){return 0==this.hunks.length},take:function(){var t=this.end(),e=this.hunks.shift();r.push({offset:this.index+e.offset-o,length:e.length,op:e.op}),this.index=t,o=this.index},skip:function(){this.index=this.end(),this.hunks.shift()},start:function(){return this.index+this.hunks[0].offset},end:function(){var t=this.hunks[0],n=this.index+t.offset+t.length;return 0==e&&(n+=t.op.get_length_change(t.length)),n}}}for(var a=i(t,0),u=i(n,1);!a.empty()||!u.empty();)if(u.empty())a.take();else if(a.empty())u.take();else if(a.end()<=u.start())a.take();else if(u.end()<=a.start())u.take();else{var f=u.start()-a.start(),p=u.end()-a.end();if(f>=0&&p<=0){var c=u.hunks[0].op,l=c.get_length_change(u.hunks[0].length);0==f&&0==p||(c=new e.PATCH([{offset:f,length:u.hunks[0].length,op:c}]));var h=a.hunks[0].op.atomic_compose(c);if(!h&&0==f&&0==p&&c instanceof e.MAP&&c.op instanceof s.SET&&(h=c),h){a.hunks[0]={offset:a.hunks[0].offset,length:a.hunks[0].length,op:h},u.index+=l,u.skip();continue}}if(f>0){var d,y=a.hunks[0].op.decompose(!0,f);if(0!=a.hunks[0].op.get_length_change(a.hunks[0].length))return null;d=f,r.push({offset:a.index+a.hunks[0].offset-o,length:d,op:y[0]}),a.index=a.start()+f,o=a.index,a.hunks[0]={offset:0,length:a.hunks[0].length-d,op:y[1]}}else if(f<0)y=u.hunks[0].op.decompose(!1,-f),r.push({offset:u.index+u.hunks[0].offset-o,length:-f,op:y[0]}),u.index=u.start()+-f,o=u.index,u.hunks[0]={offset:0,length:u.hunks[0].length- -f,op:y[1]};else{if(!(p>0&&u.hunks[0].op instanceof s.SET))return null;l=a.hunks[0].op.get_length_change(a.hunks[0].length),u.hunks[0]={offset:u.hunks[0].offset,length:u.hunks[0].length-l,op:u.hunks[0].op},a.skip(),a.index-=l}}return new e.PATCH(r).simplify()}(this,t):null},e.PATCH.prototype.rebase_functions=[[e.PATCH,function(t,e){return f(this,t,e)}]],e.PATCH.prototype.get_length_change=function(t){var e=0;return this.hunks.forEach(function(t){e+=t.op.get_length_change(t.length)}),e},e.MAP.prototype.inspect=function(t){return r.format("<MAP %s>",this.op.inspect(t-1))},e.MAP.prototype.visit=function(t){var n=new e.MAP(this.op.visit(t));return t(n)||n},e.MAP.prototype.internalToJSON=function(t,e){t.op=this.op.toJSON(void 0,e)},e.MAP.internalFromJSON=function(t,n,r){return new e.MAP(a.opFromJSON(t.op,n,r))},e.MAP.prototype.apply=function(t){var e;e="string"==typeof t?t.split(/.{0}/):t.slice();for(var n=0;n<e.length;n++)if(e[n]=this.op.apply(e[n]),"string"==typeof t&&("string"!=typeof e[n]||1!=e[n].length))throw new Error("Invalid operation: String type or length changed.");return"string"==typeof t?e.join(""):e},e.MAP.prototype.simplify=function(){return this.op.simplify()instanceof s.NO_OP?new s.NO_OP:this},e.MAP.prototype.drilldown=function(t){return(!Number.isInteger(t)||t<0)&&new s.NO_OP,this.op},e.MAP.prototype.inverse=function(t){if(0==t.length)return new e.NO_OP;if(1==t.length)return new e.MAP(this.op.inverse(t[0]));var n=[];return"string"==typeof t&&(t=t.split(/.{0}/)),t.forEach(function(t){n.append({offset:0,length:1,op:this.op.inverse(t)})}),new e.PATCH(n)},e.MAP.prototype.atomic_compose=function(t){if(t instanceof e.MAP){var n=this.op.atomic_compose(t.op);if(n)return new e.MAP(n)}return null},e.MAP.prototype.rebase_functions=[[e.MAP,function(t,n){var r,u;if(n&&"document"in n)if(1==n.document.length){(l=i(n)).document=l.document[0],r=this.op.rebase(t.op,l),u=t.op.rebase(this.op,l)}else{if(0==n.document.length)return[new a.NO_OP,new a.NO_OP];for(var p=!0,c=0;c<n.document.length;c++){var l;(l=i(n)).document=n.document[c];var h=this.op.rebase(t.op,l),d=t.op.rebase(this.op,l);0==c?(r=h,u=d):(o(r,h,{strict:!0})||(p=!1),o(u,d,{strict:!0})||(p=!1))}if(!p){var y=this;return f(r=new e.PATCH(n.document.map(function(t){return{offset:0,length:1,op:y}})),u=new e.PATCH(n.document.map(function(e){return{offset:0,length:1,op:t}})),n)}}else r=this.op.rebase(t.op,n),u=t.op.rebase(this.op,n);if(r&&u)return[r instanceof s.NO_OP?new s.NO_OP:new e.MAP(r),u instanceof s.NO_OP?new s.NO_OP:new e.MAP(u)]}],[e.PATCH,function(t,n){if(0==t.hunks.length)return[this,t];var r,a=this;return t.hunks.forEach(function(t){if(t.op instanceof e.MAP){var n=a.rebase_functions[0][1].call(a,t.op);n?void 0!==r?o(r[0],n[0],{strict:!0})&&o(r[1],n[1],{strict:!0})||(r=null):r=n:r=null}else r=null}),null!=r&&o(r[0],this,{strict:!0})?[r[0],new e.PATCH(t.hunks.map(function(t){return(t=i(t)).op=r[1],t}))]:n&&"document"in n?f(new e.PATCH([{offset:0,length:n.document.length,op:this}]),t,n):void 0}]],e.MAP.prototype.get_length_change=function(t){return 0},e.MAP.prototype.decompose=function(t,e){return[this,this]},e.createRandomOp=function(t,n){n="string"==typeof t?"string":"array";var r=[];return r.push(function(){for(var r=[],o=0;o<t.length;){var i=o+Math.floor(Math.random()*(t.length+1-o)),a=i<t.length?Math.floor(Math.random()*(t.length-i+1)):0,u=t.slice(i,i+a),f=s.createRandomOp(u,n);if(r.push({offset:i-o,length:a,op:f}),o=i+a,Math.random()<.25)break}return new e.PATCH(r)}),r.push(function(){for(;;){var r;0==t.length?"string"==typeof t?r="?":Array.isArray(t)&&(r=null):(i=t,a=Math.floor(Math.random()*t.length),r="string"==typeof i?i.charAt(a):i[a]);var o=s.createRandomOp(r,n+"-elem");try{return"string"==typeof t&&(t=t.split("")),t.forEach(function(t){o.apply(t)}),new e.MAP(o)}catch(t){}}var i,a}),r[Math.floor(Math.random()*r.length)]()}},function(t,e,n){var r=n(2),o=n(0),i=n(24).JSONPointer;function a(t){return t.path.map(function(t){return"/"+t.replace(/~/g,"~0").replace(/\//g,"~1")}).join("")}function s(t,e){for(var n=[],r=0;r<t.length;r++){var o=t.path[r];Array.isArray(e)&&(o=parseInt(o)),n.push(o),e=e[o]}return n}function u(t,e,n){for(var r=s(t,e),i=r.length-1;i>=0;)n="string"==typeof r[i]?new o.APPLY(r[i],n):new o.ATINDEX(r[i],n),i--;return n}function f(t){var e=[];if("string"==typeof t||Array.isArray(t)){if(0==t.length)return e;var n=Math.floor(Math.random()*t.length);e.push(""+n);try{Math.random()<.5&&"string"!=typeof t&&(e=e.concat(f(t[n])))}catch(t){}}else{if("object"!=typeof t||null===t)throw new Error("COPY cannot apply to this document type: "+t);var r=Object.keys(t);if(0==r.length)return e;var o=r[Math.floor(Math.random()*r.length)];e.push(o);try{Math.random()<.5&&(e=e.concat(f(t[o])))}catch(t){}}return e}e.module_name="copies",e.COPY=function(t){if(!Array.isArray(t))throw new Error("argument must be a list");this.pathpairs=t.map(function(t){if(!Array.isArray(t)||2!=t.length)throw new Error("each element in pathpairs must be an array of two string elements");if(t[0]instanceof i&&t[1]instanceof i)return t;if("string"!=typeof t[0]||"string"!=typeof t[1])throw new Error("each element in pathpairs must be an array of two strings");if(t[0]==t[1])throw new Error("can't copy a path to itself");return[new i(t[0]),new i(t[1])]}),Object.freeze(this)},e.COPY.prototype=Object.create(o.BaseOperation.prototype),o.add_op(e.COPY,e,"COPY"),e.COPY.prototype.inspect=function(t){return r.format("<COPY %s>",this.pathpairs.map(function(t){return a(t[0])+" => "+a(t[1])}).join(", "))},e.COPY.prototype.visit=function(t){return t(this)||this},e.COPY.prototype.internalToJSON=function(t,e){t.pathpairs=this.pathpairs.map(function(t){return[a(t[0]),a(t[1])]})},e.COPY.internalFromJSON=function(t,n,r){return new e.COPY(t.pathpairs)},e.COPY.prototype.apply=function(t){return this.pathpairs.forEach(function(e){var n=e[0].get(t);t=e[1].replace(t,n)}),t},e.COPY.prototype.simplify=function(t){return this},e.COPY.prototype.inverse=function(t){return new o.LIST(this.pathpairs.map(function(e){return u(e[1],t,new o.SET(e[1].get(t)))}))},e.COPY.prototype.atomic_compose=function(t){if(t instanceof e.COPY)return new e.COPY(this.pathpairs.concat(t.pathpairs)).simplify()},e.rebase=function(t,e,n,r){},e.COPY.prototype.clone_operation=function(t,e){var n=[t];return this.pathpairs.forEach(function(r){var o=function(t,e,n){for(var r=s(t,e),o=0;o<r.length;o++)n=n.drilldown(r[o]);return n}(r[0],e,t);o.isNoOp()||n.push(u(r[1],e,o))}),new o.LIST(n).simplify()},e.COPY.prototype.drilldown=function(t){throw"hmm"},e.createRandomOp=function(t,n){for(var r=[];;){var o=[a({path:f(t)}),a({path:f(t)})];if(o[0]!=o[1]&&r.push(o),Math.random()<.5)break}return new e.COPY(r)}},function(t,e,n){
/* @preserve
 * JSONPatch.js
 *
 * A Dharmafly project written by Thomas Parslow
 * <tom@almostobsolete.net> and released with the kind permission of
 * NetDev.
 *
 * Copyright 2011-2013 Thomas Parslow. All rights reserved.
 * Permission is hereby granted,y free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * Implements the JSON Patch IETF RFC 6902 as specified at:
 *
 *   http://tools.ietf.org/html/rfc6902
 *
 * Also implements the JSON Pointer IETF RFC 6901 as specified at:
 *
 *   http://tools.ietf.org/html/rfc6901
 *
 */
!function(t){var e,n,r,o;function i(t){Error.call(this,t),this.message=t}function a(t){Error.call(this,t),this.message=t}function s(t,e){!function(t){var e,n;if(!t.op)throw new i("Operation missing!");if(!r.hasOwnProperty(t.op))throw new i("Invalid operation!");if(!("path"in t))throw new i("Path missing!");for(n=r[t.op],e=0;e<n.length;e++)if(!(n[e]in t))throw new i(t.op+" must have key "+n[e])}(t);var s=t.op,u=new n(t.path),f=t.value,p=t.from?new n(t.from):null;switch(s){case"add":return function(t){return u.add(t,f,e)};case"remove":return function(t){return u.remove(t,e)};case"replace":return function(t){return u.replace(t,f,e)};case"move":if(u.subsetOf(p))throw new i("destination must not be a child of source");return function(t){var n=p.get(t),r=p.remove(t,e);return u.add(r,n,e)};case"copy":return function(t){var n=p.get(t);return u.add(t,n,e)};case"test":return function(t){if(!function t(e,n){var r;if(e===n)return!0;if(typeof e!=typeof n)return!1;if("object"!=typeof e)return!1;var i=o(e),a=o(n);if(i!==a)return!1;if(!i){for(r in e)if(Object.hasOwnProperty(e,r)&&(!Object.hasOwnProperty(n,r)||!t(e[r],n[r])))return!1;for(r in n)if(Object.hasOwnProperty(n,r)&&!Object.hasOwnProperty(e,r))return!1;return!0}if(e.length!=n.length)return!1;for(var s=0;s<e.length;s++)return t(e[s],n[s])}(u.get(t),f))throw new a("Test operation failed. Value did not match.");return t}}}o=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},t.apply_patch=function(t,n){return new e(n).apply(t)},t.InvalidPatch=i,i.prototype=new Error,t.PatchApplyError=a,a.prototype=new Error,t.JSONPointer=n=function(t){var e,n,r=[];if(""!==(n=t.split("/"))[0])throw new i("JSONPointer must start with a slash (or be an empty string)!");for(e=1;e<n.length;e++)r[e-1]=n[e].replace(/~1/g,"/").replace(/~0/g,"~");this.path=r,this.length=r.length},n.prototype._get_segment=function(t,e){var n=this.path[t];if(o(e))if("-"===n)n=e.length;else{if(!n.match(/^[0-9]*$/))throw new a("Expected a number to segment an array");n=parseInt(n,10)}return n},n.prototype._action=function(t,e,n){var r=this;return function t(i,s){var u,f;if(n||(i=function(t){var e,n;if(o(t))return t.slice();if(null===t)return t;if("object"==typeof t){for(n in e={},t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return t}(i)),u=r._get_segment(s,i),s==r.path.length-1)i=e(i,u);else{if(o(i)){if(i.length<=u)throw new a("Path not found in document")}else{if("object"!=typeof i)throw new a("Path not found in document");if(!Object.hasOwnProperty.call(i,u))throw new a("Path not found in document")}f=t(i[u],s+1),n||(i[u]=f)}return i}(t,0)},n.prototype.add=function(t,e,n){return 0===this.length?e:this._action(t,function(t,n){if(o(t)){if(n>t.length)throw new a("Add operation must not attempt to create a sparse array!");t.splice(n,0,e)}else t[n]=e;return t},n)},n.prototype.remove=function(t,e){if(0!==this.length)return this._action(t,function(t,e){if(!Object.hasOwnProperty.call(t,e))throw new a("Remove operation must point to an existing value!");return o(t)?t.splice(e,1):delete t[e],t},e)},n.prototype.replace=function(t,e,n){return 0===this.length?e:this._action(t,function(t,n){if(!Object.hasOwnProperty.call(t,n))throw new a("Replace operation must point to an existing value!");return o(t)?t.splice(n,1,e):t[n]=e,t},n)},n.prototype.get=function(t){var e;return 0===this.length?t:(this._action(t,function(t,n){if(!Object.hasOwnProperty.call(t,n))throw new a("Path not found in document");return e=t[n],t},!0),e)},n.prototype.subsetOf=function(t){if(this.length<=t.length)return!1;for(var e=0;e<t.length;e++)if(t.path[e]!==this.path[e])return!1;return!0},r={add:["value"],replace:["value"],test:["value"],remove:[],move:["from"],copy:["from"]},t.JSONPatch=e=function(t,e){this._compile(t,e)},e.prototype._compile=function(t,e){var n;if(this.compiledOps=[],"string"==typeof t&&(t=JSON.parse(t)),!o(t))throw new i("Patch must be an array of operations");for(n=0;n<t.length;n++){var r=s(t[n],e);this.compiledOps.push(r)}},t.JSONPatch.prototype.apply=function(t){var e;for(e=0;e<this.compiledOps.length;e++)t=this.compiledOps[e](t);return t}}(t.exports)},function(t,e,n){var r=n(5),o=n(0);function i(t,e,a){function s(t){if(void 0===t)throw new Error("Illegal argument: undefined passed to diff");if(null===t)return"null";if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return typeof t;if(Array.isArray(t))return"array";if("object"!=typeof t)throw new Error("Illegal argument: "+typeof t+" passed to diff");return"object"}var u=s(t),f=s(e);return r(t,e,{strict:!0})?{op:new o.NO_OP,pct:0,size:JSON.stringify(t).length}:"string"==u&&"string"==f?function(t,e,r){var i=n(26),a="Chars";r.words&&(a="Words");r.lines&&(a="Lines");r.sentences&&(a="Sentences");var s=0,u=0,f=0,p=i["diff"+a](t,e).map(function(t){if(s+=t.value.length,t.added||t.removed){u+=t.value.length;var e=0,n="";t.removed&&(e=t.value.length),t.added&&(n=t.value);var r={offset:f,length:e,op:new o.SET(n)};return f=0,r}return f+=t.value.length,null}).filter(function(t){return null!=t});return{op:new o.PATCH(p).simplify(),pct:(u+1)/(s+1),size:s}}(t,e,a):"array"==u&&"array"==f?function(t,e,r){var a=n(37),s=t.map(function(t,e){return e}),u=e.map(function(t,e){return e}),f=[],p=0,c=0,l=0;return function n(s,u,h){var d=[],y=0,g=0;a(s,u,function(n,o){return i(t[n],e[o],r).pct<=h}).forEach(function(t){if(t.removed||t.added)0!=d.length&&"equal"!=d[d.length-1].type||d.push({type:"unequal",ai:[],bi:[]}),t.added?(d[d.length-1].bi=d[d.length-1].bi.concat(t.items),g+=t.items.length):t.removed&&(d[d.length-1].ai=d[d.length-1].ai.concat(t.items),y+=t.items.length);else{if(y+t.items.length>s.length)throw new Error("out of range");if(g+t.items.length>u.length)throw new Error("out of range");d.push({type:"equal",ai:s.slice(y,y+t.items.length),bi:u.slice(g,g+t.items.length)}),y+=t.items.length,g+=t.items.length}}),d.forEach(function(a){if(h<1&&a.ai.length>0&&a.bi.length>0&&(h>0||"unequal"==a.type))n(a.ai,a.bi,(h+1.1)/2);else{if(a.ai.length!=a.bi.length){var s=new o.SPLICE(l,a.ai.length,a.bi.map(function(t){return e[t]}));f.push(s);var u=JSON.stringify(a.ai.map(function(e){return t[e]}))+JSON.stringify(a.bi.map(function(t){return e[t]}));u=u.length/2,p+=u,c+=u}else for(var d=0;d<a.ai.length;d++){var y=i(t[a.ai[d]],e[a.bi[d]],r);y.op.isNoOp()||f.push(new o.ATINDEX(a.bi[d],y.op)),p+=y.size,c+=y.size*y.pct}l+=a.bi.length}})}(s,u,0),{op:new o.LIST(f).simplify(),pct:(c+1)/(p+1),size:p}}(t,e,a):"object"==u&&"object"==f?function(t,e,n){var r=[],a=0,s=0;for(var u in t)u in e&&(d=i(t[u],e[u],n),d.op.isNoOp()||r.push(new o.APPLY(u,d.op)),a+=d.size,s+=d.size*d.pct);var f=[],p={},c={};for(var u in f.sort(function(t,e){return t.diff.pct*t.diff.size-e.diff.pct*e.diff.size}),f.forEach(function(t){t.a_key in p||t.b_key in c||(p[t.a_key]=1,c[t.b_key]=1,r.push(new o.REN(t.a_key,t.b_key)),t.diff.op.isNoOp()||r.push(new o.APPLY(t.b_key,t.diff.op)),a+=t.diff.size,s+=t.diff.size*t.diff.pct)}),t)u in e||u in p||r.push(new o.REM(u));for(var u in e)u in t||u in c||r.push(new o.PUT(u,e[u]));return{op:new o.LIST(r).simplify(),pct:(s+1)/(a+1),size:a}}(t,e,a):{op:new o.SET(e),pct:1,size:(JSON.stringify(t)+JSON.stringify(e)).length/2}}e.diff=function(t,e,n){return i(t,e,n=n||{}).op}},function(t,e,n){"use strict";e.__esModule=!0,e.canonicalize=e.convertChangesToXML=e.convertChangesToDMP=e.parsePatch=e.applyPatches=e.applyPatch=e.createPatch=e.createTwoFilesPatch=e.structuredPatch=e.diffJson=e.diffCss=e.diffSentences=e.diffTrimmedLines=e.diffLines=e.diffWordsWithSpace=e.diffWords=e.diffChars=e.Diff=void 0;var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r},a=n(27),s=n(28),u=n(7),f=n(29),p=n(30),c=n(31),l=n(32),h=n(11),d=n(34),y=n(35),g=n(36);e.Diff=i.default,e.diffChars=a.diffChars,e.diffWords=s.diffWords,e.diffWordsWithSpace=s.diffWordsWithSpace,e.diffLines=u.diffLines,e.diffTrimmedLines=u.diffTrimmedLines,e.diffSentences=f.diffSentences,e.diffCss=p.diffCss,e.diffJson=c.diffJson,e.structuredPatch=d.structuredPatch,e.createTwoFilesPatch=d.createTwoFilesPatch,e.createPatch=d.createPatch,e.applyPatch=l.applyPatch,e.applyPatches=l.applyPatches,e.parsePatch=h.parsePatch,e.convertChangesToDMP=y.convertChangesToDMP,e.convertChangesToXML=g.convertChangesToXML,e.canonicalize=c.canonicalize},function(t,e,n){"use strict";e.__esModule=!0,e.characterDiff=void 0,e.diffChars=function(t,e,n){return a.diff(t,e,n)};var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};var a=e.characterDiff=new i.default},function(t,e,n){"use strict";e.__esModule=!0,e.wordDiff=void 0,e.diffWords=function(t,e,n){var r=(0,a.generateOptions)(n,{ignoreWhitespace:!0});return f.diff(t,e,r)},e.diffWordsWithSpace=function(t,e,n){return f.diff(t,e,n)};var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r},a=n(10);var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,u=/\S/,f=e.wordDiff=new i.default;f.equals=function(t,e){return t===e||this.options.ignoreWhitespace&&!u.test(t)&&!u.test(e)},f.tokenize=function(t){for(var e=t.split(/(\s+|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&s.test(e[n])&&s.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e}},function(t,e,n){"use strict";e.__esModule=!0,e.sentenceDiff=void 0,e.diffSentences=function(t,e,n){return a.diff(t,e,n)};var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};var a=e.sentenceDiff=new i.default;a.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)}},function(t,e,n){"use strict";e.__esModule=!0,e.cssDiff=void 0,e.diffCss=function(t,e,n){return a.diff(t,e,n)};var r,o=n(1),i=(r=o)&&r.__esModule?r:{default:r};var a=e.cssDiff=new i.default;a.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)}},function(t,e,n){"use strict";e.__esModule=!0,e.jsonDiff=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.diffJson=function(t,e,n){return f.diff(t,e,n)},e.canonicalize=p;var o,i=n(1),a=(o=i)&&o.__esModule?o:{default:o},s=n(7);var u=Object.prototype.toString,f=e.jsonDiff=new a.default;function p(t,e,n){e=e||[],n=n||[];var o=void 0;for(o=0;o<e.length;o+=1)if(e[o]===t)return n[o];var i=void 0;if("[object Array]"===u.call(t)){for(e.push(t),i=new Array(t.length),n.push(i),o=0;o<t.length;o+=1)i[o]=p(t[o],e,n);return e.pop(),n.pop(),i}if(t&&t.toJSON&&(t=t.toJSON()),"object"===(void 0===t?"undefined":r(t))&&null!==t){e.push(t),i={},n.push(i);var a=[],s=void 0;for(s in t)t.hasOwnProperty(s)&&a.push(s);for(a.sort(),o=0;o<a.length;o+=1)i[s=a[o]]=p(t[s],e,n);e.pop(),n.pop()}else i=t;return i}f.useLongestToken=!0,f.tokenize=s.lineDiff.tokenize,f.castInput=function(t){return"string"==typeof t?t:JSON.stringify(p(t),void 0,"  ")},f.equals=function(t,e){return a.default.prototype.equals(t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))}},function(t,e,n){"use strict";e.__esModule=!0,e.applyPatch=s,e.applyPatches=function(t,e){"string"==typeof t&&(t=(0,o.parsePatch)(t));var n=0;!function r(){var o=t[n++];if(!o)return e.complete();e.loadFile(o,function(t,n){if(t)return e.complete(t);var i=s(n,o,e);e.patched(o,i,function(t){if(t)return e.complete(t);r()})})}()};var r,o=n(11),i=n(33),a=(r=i)&&r.__esModule?r:{default:r};function s(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if("string"==typeof e&&(e=(0,o.parsePatch)(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r=t.split("\n"),i=e.hunks,s=n.compareLine||function(t,e,n,r){return e===r},u=0,f=n.fuzzFactor||0,p=0,c=0,l=void 0,h=void 0;function d(t,e){for(var n=0;n<t.lines.length;n++){var o=t.lines[n],i=o[0],a=o.substr(1);if(" "===i||"-"===i){if(!s(e+1,r[e],i,a)&&++u>f)return!1;e++}}return!0}for(var y=0;y<i.length;y++){for(var g=i[y],m=r.length-g.oldLines,v=0,w=c+g.oldStart-1,O=(0,a.default)(w,p,m);void 0!==v;v=O())if(d(g,w+v)){g.offset=c+=v;break}if(void 0===v)return!1;p=g.offset+g.oldStart+g.oldLines}for(var b=0;b<i.length;b++){var P=i[b],_=P.offset+P.newStart-1;0==P.newLines&&_++;for(var T=0;T<P.lines.length;T++){var A=P.lines[T],S=A[0],M=A.substr(1);if(" "===S)_++;else if("-"===S)r.splice(_,1);else if("+"===S)r.splice(_,0,M),_++;else if("\\"===S){var E=P.lines[T-1]?P.lines[T-1][0]:null;"+"===E?l=!0:"-"===E&&(h=!0)}}}if(l)for(;!r[r.length-1];)r.pop();else h&&r.push("");return r.join("\n")}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e,n){var r=!0,o=!1,i=!1,a=1;return function s(){if(r&&!i){if(o?a++:r=!1,t+a<=n)return a;i=!0}if(!o)return i||(r=!0),e<=t-a?-a++:(o=!0,s())}}},function(t,e,n){"use strict";e.__esModule=!0,e.structuredPatch=i,e.createTwoFilesPatch=a,e.createPatch=function(t,e,n,r,o,i){return a(t,t,e,n,r,o,i)};var r=n(7);function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e,n,i,a,s,u){u||(u={context:4});var f=(0,r.diffLines)(n,i);function p(t){return t.map(function(t){return" "+t})}f.push({value:"",lines:[]});for(var c=[],l=0,h=0,d=[],y=1,g=1,m=function(t){var e=f[t],r=e.lines||e.value.replace(/\n$/,"").split("\n");if(e.lines=r,e.added||e.removed){var a;if(!l){var s=f[t-1];l=y,h=g,s&&(d=u.context>0?p(s.lines.slice(-u.context)):[],l-=d.length,h-=d.length)}(a=d).push.apply(a,o(r.map(function(t){return(e.added?"+":"-")+t}))),e.added?g+=r.length:y+=r.length}else{if(l)if(r.length<=2*u.context&&t<f.length-2){var m;(m=d).push.apply(m,o(p(r)))}else{var v,w=Math.min(r.length,u.context);(v=d).push.apply(v,o(p(r.slice(0,w))));var O={oldStart:l,oldLines:y-l+w,newStart:h,newLines:g-h+w,lines:d};if(t>=f.length-2&&r.length<=u.context){var b=/\n$/.test(n),P=/\n$/.test(i);0!=r.length||b?b&&P||d.push("\\ No newline at end of file"):d.splice(O.oldLines,0,"\\ No newline at end of file")}c.push(O),l=0,h=0,d=[]}y+=r.length,g+=r.length}},v=0;v<f.length;v++)m(v);return{oldFileName:t,newFileName:e,oldHeader:a,newHeader:s,hunks:c}}function a(t,e,n,r,o,a,s){var u=i(t,e,n,r,o,a,s),f=[];t==e&&f.push("Index: "+t),f.push("==================================================================="),f.push("--- "+u.oldFileName+(void 0===u.oldHeader?"":"\t"+u.oldHeader)),f.push("+++ "+u.newFileName+(void 0===u.newHeader?"":"\t"+u.newHeader));for(var p=0;p<u.hunks.length;p++){var c=u.hunks[p];f.push("@@ -"+c.oldStart+","+c.oldLines+" +"+c.newStart+","+c.newLines+" @@"),f.push.apply(f,c.lines)}return f.join("\n")+"\n"}},function(t,e,n){"use strict";e.__esModule=!0,e.convertChangesToDMP=function(t){for(var e=[],n=void 0,r=void 0,o=0;o<t.length;o++)n=t[o],r=n.added?1:n.removed?-1:0,e.push([r,n.value]);return e}},function(t,e,n){"use strict";function r(t){var e=t;return e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}e.__esModule=!0,e.convertChangesToXML=function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];o.added?e.push("<ins>"):o.removed&&e.push("<del>"),e.push(r(o.value)),o.added?e.push("</ins>"):o.removed&&e.push("</del>")}return e.join("")}},function(t,e,n){"use strict";t.exports=function(t,e,n){n=n||o;var a=t.length,s=e.length,u=a+s,f={},p=[];f[1]=0;for(var c=0;c<=u;c+=1){for(var l=-c;l<=c;l+=2){var h,d;for(h=l===-c||l!==c&&f[l-1]<f[l+1]?f[l+1]:f[l-1]+1,d=h-l;h<a&&d<s&&n(t[h],e[d]);)h+=1,d+=1;if(f[l]=h,h>=a&&d>=s)return p[c]=r({},f),i(p,t,e)}p[c]=r({},f)}throw Error("Unreachable diff path reached")};var r=n(38);function o(t,e){return t===e}function i(t,e,n){for(var r=[],o={x:e.length,y:n.length},i=t.length-1;o.x>0||o.y>0;i-=1){for(var s=t[i],u=o.x-o.y,f=s[u],p=u===-i||u!==i&&s[u-1]<s[u+1],c=p?u+1:u-1,l=s[c],h=l-c,d=p?l:l+1;f>d;)a(r,e[f-1],!1,!1),f-=1;if(h<0)break;p?a(r,n[h],!0,!1):a(r,e[l],!1,!0),o.x=l,o.y=h}return r.reverse()}function a(t,e,n,r){var o=t[t.length-1];o&&o.added===n&&o.removed===r?o.items.unshift(e):t.push({items:[e],added:n,removed:r})}},function(t,e,n){"use strict";t.exports=Object.assign||function(t,e){for(var n,r,o=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),i=1;i<arguments.length;i++){n=arguments[i],r=Object.keys(Object(n));for(var a=0;a<r.length;a++)o[r[a]]=n[r[a]]}return o}}]);